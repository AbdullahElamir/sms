SMS Registration System


خدمات النظام : 


1 - التسجيل :


localhost/Registration/ServiceType#SimType#SimNumber


حيث المدخلات تكون كالأتي :
نوع الخدمة : 1 (خدمة التسجيل).
نوع الشفر
ة : 1 (فاتورة) ، 2 (دفع مسبق).
رقم البطاقة : يقصد بها رقم الشفرة التي يريد صاحبها التسجيل في الخدمة.


فمثلا عندما يريد صاحب شفرة الدفع المسبق التي رقمها 0911234567 التسجيل في الخدمة، يتم الطلب كالأتي :
localhost/Registration/1#2#0911234567


النقاط التي يجب مراعاتها :
1- التأكد من أن رقم الشفرة خاص بشركة المدار وهو الذي يبدأ بـ 091.
2- التأكد من أن رقم الشفرة غير مضاف سابقاً في جدول الخدمة وإلا سوف يتم الرد عليه بالرسالة "لقد تم تسجيلك في الخدمة سابقاً".
3- إضافة رقم الشفرة في جدول الخدمة والرد برسالة "تم تسجيلك في الخدمة بنجاح" وذلك في حالة تم التسجيل بنجاح.






2 - إعادة التعبئة :


تنقسم هذه المرحلة إلى ثلاثة أقسام :


1- إدخال فئات كروت الدفع المسجلة في الخدمة وإضافتها إلى جدول prepaidHasPoint الذي يحدد فيه الفئة (10 دينار مثلا) والنقاط (13 نقطة)، يمكن تعبئتها بالجدول بشكل يدوي.


2- إضافة كروت دفع مسبق للنظام في جدول الـ Cards، بأرقام عشوائية متكونة من 13 الحرف، وذلك عن طريق إضافتها بشكل يدوي في قاعدة البيانات.
مع العلم انه الحالة التلقائية لهذه الكروت الجديدة هيا = 0 (أي أنها غير مستخدمة).


3- تعبئة رصيد في الخدمة :


وذلك من خلال الطلب التالي :


localhost/Refill/ServiceType#CardNumber#SimNumber


مثلا :


localhost/Refill/2#1234567890129#0912543514


حيث المدخلات تكون كالأتي :
نوع الخدمة : 2 (خدمة إعادة التعبئة).
رقم الكرت : الرقم السري ذو 13 حرف التي تم الحصول عليه بعد كشط الكرت.
رقم البطاقة : يقصد بها رقم الشفرة التي يريد صاحبها إضافة رصيد إلى حسابه في الخدمة.






النقاط التي يجب مراعاتها :
1- التأكد من أنه رقم الشفرة مسجل في جدول الخدمة وإلا يتم الرد برسالة "يجب عليك التسجيل أولاً في هذه الخدمة".
2- التأكد من أنه رقم الكرت صحيح (يحتوي على 13 حرف) وأيضاً غير مستخدم مسبقاً وإلا الرد برسالة "رقم الكرت الذي أدخلته غير صحيح"
3- يتم إضافة الرصيد والنقاط لرصيد ونقاط صاحب الشفرة في جدول الخدمة والرد برسالة "تم التعبئة بنجاح ورصيدك الآن هو 15 ونقاطك 112"




3 - الإستفسار :


وذلك من خلال الطلب التالي :


localhost/Quota/ServiceType#SimNumber
مثلا :


localhost/Quota/3#0914562501


حيث المدخلات تكون كالأتي :
نوع الخدمة : 3 (خدمة إستفسار عن رصيدك ونقاطك).
رقم البطاقة : يقصد بها رقم الشفرة التي يريد صاحبها استفسار عن رصيده ونقاطه في الخدمة.


النقاط التي يجب مراعاتها :
1- التأكد من أن رقم الشفرة موجود في جدول الخدمة.
2- الرد برسالة وهي "رصيدك هو 12 ونقاطك هي 15"




4 - تحويل النقاط :
وذلك من خلال الطلب التالي :


localhost/Transfer/ServiceType#SimNumber1#SimNumber2#Pointes 


مثلا


localhost/Transfer/4#0914562101#0914850022#15


النقاط التي يجب مراعاتها :
1- التأكد من أن رقم الشفرة 1 لا يساوي رقم الشفرة 2 والرد برسالة "يجب تحديد رقم مستلم صالح"
2- التأكد من أن عدد النقاط يكون أكبر من 0 والرد برسالة "يجب إرسال عدد نقاط أكبر من الصفر"
3- التأكد من أن الشفرة 1 والشفرة 2 مسجلات في جدول الخدمة.
4- التأكد من أن صاحب الشفرة 1 لديه النقاط المرسلة.
5- تحويل النقاط من الشفرة رقم 1 إلى الشفرة رقم 2 (خصم النقاط من الشفرة رقم 1 و إضافة النقاط للشفرة رقم 2)
